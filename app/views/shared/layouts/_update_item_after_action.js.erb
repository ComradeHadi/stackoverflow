<%
   model_name = item.model_name.element
   resource_name = model_name.capitalize
   action = local_assigns.fetch :action, :update
   notice_update = t('flash.actions.update.notice', resource_name: resource_name)
%>

<% if item.errors.any? %>
  $("#alert").html('<%= t "failure.#{ action }", scope: model_name %>')
  $("#notice").empty()
  <% item.errors.full_messages.each do |message| %>
    $("#notice").append('<%= j message %>')
  <% end %>
<% else %>
  $("#alert").empty()
  $("#notice").html('<%= notice_update %>')
  <%= yield %>
<% end %>
